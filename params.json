{"name":"Qt-box-editor","body":"### Welcome to QT Box Editor\r\n\r\n[QT Box Editor](http://zdenop.github.com/qt-box-editor) is multi-platform visual editor for [tesseract-ocr](http://code.google.com/p/tesseract-ocr/) [box files](http://code.google.com/p/tesseract-ocr/wiki/TrainingTesseract3) (used for OCR training) based on [QT4 library](http://qt.nokia.com/products/).\r\n\r\n![QT Box Editor version 1.07](https://github.com/zdenop/qt-box-editor/wiki/qt-be_v1.07.png)\r\n\r\n### Code\r\n\r\nSource code is available in [GitHub repository](https://github.com/zdenop/qt-box-editor) under [Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0). Windows binary version can be found in [download area](https://github.com/zdenop/qt-box-editor/downloads).\r\n\r\n## Input (image + boxfile) \r\n\r\nWell this is boxfile editor, so it is expected that you have some image and relevant box file. QT Box Editor can work with following image format:\r\n* tif, tiff\r\n* png\r\n* jpg, jpeg\r\n* bmp\r\n\r\nMultipage tif is not supported yet. It is strongly suggested to use tif with compression or png due to image quality and space. If you are interesting in good result, strictly follow instruction mention on Tesseract training page plus use image with 300 DPI (at least). Also try to avoid big files (10-12 pt for font size is ok, checking a lot of text can cause you oversaw errors).\r\n\r\nYou can open image file in menu (_File->Open_) or just use _Drag&Drop_. Based on image filename QT Box Editor will search for box file.\r\n\r\nYou can create box file outside of application (useful if you want to use additional parameters or check for possible error). From version 1.07 QT Box Editor is able to generate box file during opening image. But first you need to set-up (_Edit->Settings..._ or Ctrl+T) path to tesseract language files. If they are located in “C:/usr/projects/BuildFolder/tesseract-ocr/tessdata”, than enter “C:/usr/projects/BuildFolder/tesseract-ocr/” (application will anyway remove “tessdata” if you select “C:/usr/projects/BuildFolder/tesseract-ocr/tessdata”) and click on ”_Check_” button. If QT Box Editor is able to find language data, it will enter them to combobox, so you can choose, which one will be used in tesseract.\r\n\r\n**Note**: On windows QT Box Editor was linked against tesseract 3.02 library and leptonica 1.68. If you build application from source make sure you use tesseract 3.01 or 3.02 version.\r\n\r\n\r\n## Editing\r\n\r\nQT Box Editor workspace has several part:\r\n* table editor with box data (left side)- this is the place where you can modified data\r\n* several toolbars with most used functionalities and menu (with all functions) \r\n* image viewer (right side) - this is the place where your data are shown\r\n* statusbar with following information:\r\n    * UTF-8 codes of symbol(s) of selected box\r\n    * box size\r\n    * zoom factor\r\n\r\nIf you press _F1_ - dialogue with available shortcuts will be displayed. It is also available via menu _Help->Shortcut list_.\r\n\r\n### Table operations\r\n\r\nIn table you can see box file information. If you click into cell (single box feature) your information will be visualized in viewer part: box rectangle will be drawn together with symbol/letter (if option/button “_Show symbol_” is on). This give you opportunity to check box information (size of box and where symbol match to its image).\r\n\r\nIf something is wrong just start typing (in correct table cell) and than this the _Enter_ or _Tab_ key.\r\n\r\nYou can also set font type (bold, italics, underlined) if need. This action works on multiple rows. Just select rows (one cell from row is enough) by mouse or keyboard and click desired button (or use shortcut or use menu). _Ctrl_ and _Shift_ key can help you to make selection.\r\n\r\nThere is implemented “_Find_” function (_Edit->Find_ or _Ctrl+F_) to search for selected symbol.\r\n\r\n### Advanced table operations\r\n\r\nIf you use training based on real scan usualy your image is not ideal and tesseract is not able create good box file (e.g. some symbols do not have box, box is split into several parts, there are boxes for noise etc.).\r\n\r\nFor this case there is toolbar that help you to operate with whole box information (rows):\r\n* move row position - useful if boxes are not ordered properly e.g. in case of wrapped image scan\r\n* jump to row position\r\n* add, join, split, and remove box\r\n\r\nIn these actions there is no support for multirow selection (yet). Even if you select more rows it will act on last selected.\r\n\r\n**Warning**: There is no Undo implemented in QT Box Editor yet, so you have to be careful and save box file wisely.\r\n\r\n## Visualization\r\n\r\nQT Box Editor is visual editor to help editor understand what he/she is doing. Box rectangle is drawn based on table selection automatically .\r\n\r\nWhen you first time open box file you need to check quality of generated boxes. If you want to see all boxes, just use function “_Show boxes_” (_View->Show boxes_ or _Ctrl+H_).\r\n\r\nTo get best view you need to zoom in/out. Application offers several zooming option (by step, to fit width, height, selected box.\r\n\r\nYou can select box also in viewer - just click on image box location and correct box will be selected in table editor (box must exists). Multibox selection from viewer is not supported (it is supported only in table editor).\r\n\r\nColor and font can be adjusted in Settings dialogue.\r\n\r\n## At the end...\r\n\r\nIf your image has several types of fonts you have problem - you do not follow tesseract training instruction. But there is workaround: mark symbol as bold, italics or underlined and use menu function: “Spilt to boxfiles” (File->Split to boxfiles). This will create several boxfiles. E.g. if your (main) box filename is ‘calc.arial.exp0.box’ it will create (if you used that styles):\r\n* calc.arialnormal.exp0.box\r\n* calc.arialitalic.exp0.box\r\n* calc.arialbold.exp0.box\r\n* calc.arialbolditalic.exp0.box\r\n* calc.arialunderline.exp0.box\r\n\r\nThen you need to create copies (or symlinks on linux) of main image and you can run training with this commands:\r\n*   tesseract calc.arialnormal.exp0.tif calc.arialnormal.exp0 box.train\r\n*   tesseract calc.arialitalic.exp0.tif calc.arialitalic.exp0 box.train\r\n*   tesseract calc.arialbold.exp0.tif calc.arialbold.exp0 box.train\r\n*   tesseract calc.arialbolditalic.exp0.tif calc.arialbolditalic.exp0 box.train\r\n*   tesseract calc.arialunderline.exp0.tif calc.arialunderline.exp0 box.train\r\n\r\nCreating copies/symlinks is important because based on input image tesseract search for box files and second argument is used for output filename (tr file).\r\n\r\nYou will get a lot several warnings like this:\r\n```\r\nAPPLY_BOXES: Unlabelled word at :Bounding box=(128,1555)->(255,1582)\r\n```\r\n\r\nThis is because there are not box data for part of image (e.g. calc.arialnormal.exp0 miss all box data for bold, italic and underlined symbols). If you want to avoid this warnings you need to remove (clear) in image editor (e.g. gimp) not boxed symbols.\r\n\r\nIf you get error message like this:\r\n```\r\nAPPLY_BOXES: boxfile line 16/$ ((1943,2674),(2037,2758)): FAILURE! Couldn't find a matching blob\r\n```\r\nyou should check that region. You can visualize it by function “Draw Rectangle...” (_Edit->Draw Rectangle..._ or _Ctrl+R_). New dialogue will be opened with 4 field where you can enter this coordinates (bounding box).","tagline":"QT4 editor of tesseract-ocr box files","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}